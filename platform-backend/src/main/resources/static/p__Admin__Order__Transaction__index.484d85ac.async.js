"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3562],{23498:function(N,A,t){t.d(A,{HU:function(){return Z},IV:function(){return P},VQ:function(){return D},WR:function(){return B},r7:function(){return O}});var b=t(97857),f=t.n(b),C=t(5574),a=t.n(C),u=t(59753);function D(o){var e=a()(o,2),n=e[0],s=e[1];return"".concat((0,u.zR)(n),",").concat((0,u.zR)(s))}function Z(o){var e=f()({},o);if(e.ctime){var n=a()(e.ctime,2),s=n[0],I=n[1];e.ctimeRange="".concat((0,u.yI)(s),",").concat((0,u.yI)(I)),delete e.ctime}if(e.utime){var S=a()(e.utime,2),h=S[0],T=S[1];e.utimeRange="".concat((0,u.yI)(h),",").concat((0,u.yI)(T)),delete e.utime}return e}function B(o){var e=f()({},o);if(e.ctime){var n=a()(e.ctime,2),s=n[0],I=n[1];e.ctime="".concat((0,u.yI)(s),",").concat((0,u.yI)(I))}if(e.utime){var S=a()(e.utime,2),h=S[0],T=S[1];e.utime="".concat((0,u.yI)(h),",").concat((0,u.yI)(T))}return e}function O(o){var e={};for(var n in o){var s=o[n];s==="ascend"?e[n+"S"]=!0:s==="descend"&&(e[n+"S"]=!1)}return e}function P(o){var e={};for(var n in o)if(o[n]==="ascend"?e[n]=!0:o[n]==="descend"&&(e[n]=!1),["ctime","utime"].includes(n)){var s=e[n];delete e[n],e["".concat(n,"S")]=s}return e}},56677:function(N,A,t){t.r(A),t.d(A,{default:function(){return J}});var b=t(15009),f=t.n(b),C=t(97857),a=t.n(C),u=t(99289),D=t.n(u),Z=t(5574),B=t.n(Z),O=t(67294),P=t(4393),o=t(42075),e=t(71471),n=t(90930),s=t(70170),I=t(76772);function S(x){return h.apply(this,arguments)}function h(){return h=_asyncToGenerator(_regeneratorRuntime().mark(function x(p){return _regeneratorRuntime().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",request("/admin/order/api-order/time-range",_objectSpread({method:"GET"},p||{})));case 1:case"end":return l.stop()}},x)})),h.apply(this,arguments)}function T(x,p){return F.apply(this,arguments)}function F(){return F=D()(f()().mark(function x(p,_){return f()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,I.request)("/admin/order/status",a()({method:"GET",params:a()(a()({},p),{},{req:void 0},p.req)},_||{})));case 1:case"end":return v.stop()}},x)})),F.apply(this,arguments)}var G=t(23498),Q=t(96486),U=t.n(Q),d=t(85893),H=30,$=function(){var p=(0,O.useState)({}),_=B()(p,2),l=_[0],v=_[1],X=(0,O.useState)({amount:0,total:0}),W=B()(X,2),z=W[0],L=W[1],Y=[{title:"API ID",dataIndex:"apiId",width:100,search:!1,render:function(c,r,g,E,m){return(0,d.jsx)("div",{style:{whiteSpace:"normal",wordBreak:"break-word"},children:r.apiId})}},{title:"API\u540D\u79F0",dataIndex:"apiName",search:!1,width:200,render:function(c,r,g,E,m){return(0,d.jsx)("div",{style:{whiteSpace:"normal",wordBreak:"break-word"},children:r.apiName})}},{title:"\u4EA4\u6613\u603B\u989D(\u5143)",dataIndex:"amount",width:200,search:!1,sorter:l.dateRange?!0:function(i){return i.amount},render:function(c,r,g,E,m){return(0,d.jsx)("div",{style:{whiteSpace:"normal",wordBreak:"break-word"},children:"\xA5".concat(r.amount.toFixed(5))})}},{title:"\u8BA2\u5355\u6570\u91CF",dataIndex:"total",width:200,search:!1,sorter:l.dateRange?!0:function(i){return i.total},render:function(c,r,g,E,m){return(0,d.jsx)("div",{style:{whiteSpace:"normal",wordBreak:"break-word"},children:r.total})}},{title:"\u65E5\u671F",dataIndex:"date",valueType:"dateRange",width:150,render:function(c,r,g,E,m){return(0,d.jsx)("div",{style:{whiteSpace:"normal",wordBreak:"break-word"},children:r.date})},hidden:!l.dateRange}];return(0,d.jsx)(n._z,{title:!1,children:(0,d.jsx)(P.Z,{children:(0,d.jsxs)(o.Z,{direction:"vertical",style:{width:"100%"},children:[!l.dateRange&&(0,d.jsx)(P.Z,{type:"inner",children:(0,d.jsxs)(o.Z,{size:"large",children:[(0,d.jsxs)(e.Z.Title,{level:4,style:{margin:0},children:["\u603B\u4EA4\u6613\u989D\uFF1A\xA5",z.amount.toFixed(5)]}),(0,d.jsxs)(e.Z.Title,{level:4,style:{margin:0},children:["\u603B\u8BA2\u5355\u6570\uFF1A",z.total]})]})}),(0,d.jsx)(s.Z,{rowKey:function(c){return"".concat(c.date,"-").concat(c.apiId)},pagination:{pageSize:H},request:function(){var i=D()(f()().mark(function c(r,g,E){var m,K,w,V,R,M;return f()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return w=r.date,w?(r.dateRange=(0,G.VQ)(w),v(function(j){return a()(a()({},j),{},{dateRange:r.dateRange})})):v(function(j){return a()(a()({},j),{},{dateRange:void 0})}),V=(0,G.r7)(g),y.next=5,T({req:a()({current:r.current,dateRange:r.dateRange},V)});case 5:return R=y.sent,M=(m=R.data)===null||m===void 0?void 0:m.data,!w&&R.code===0&&M&&M.length>0?L({amount:U().sumBy(R.data.data,function(j){return j.amount}),total:U().sumBy(R.data.data,function(j){return j.total})}):L({amount:0,total:0}),y.abrupt("return",{data:M,success:R.code===0,total:(K=R.data)===null||K===void 0?void 0:K.total});case 9:case"end":return y.stop()}},c)}));return function(c,r,g){return i.apply(this,arguments)}}(),toolbar:{settings:[]},columns:Y.map(function(i){return a()(a()({},i),{},{align:"center"})})})]})})})},J=$}}]);
